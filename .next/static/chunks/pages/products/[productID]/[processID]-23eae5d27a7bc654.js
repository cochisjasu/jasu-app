(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{1771:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"prices"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pag"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"num"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ord"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"asc"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"PriceFilter"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prices"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pag"},value:{kind:"Variable",name:{kind:"Name",value:"pag"}}},{kind:"Argument",name:{kind:"Name",value:"num"},value:{kind:"Variable",name:{kind:"Name",value:"num"}}},{kind:"Argument",name:{kind:"Name",value:"ord"},value:{kind:"Variable",name:{kind:"Name",value:"ord"}}},{kind:"Argument",name:{kind:"Name",value:"asc"},value:{kind:"Variable",name:{kind:"Name",value:"asc"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalEdges"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasMore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"drums"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"volume"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fruitVariety"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fruit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"price"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PriceInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"drums"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"volume"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fruitVariety"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fruit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"harvests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pag"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"num"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ord"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"asc"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"HarvestFilter"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"harvests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pag"},value:{kind:"Variable",name:{kind:"Name",value:"pag"}}},{kind:"Argument",name:{kind:"Name",value:"num"},value:{kind:"Variable",name:{kind:"Name",value:"num"}}},{kind:"Argument",name:{kind:"Name",value:"ord"},value:{kind:"Variable",name:{kind:"Name",value:"ord"}}},{kind:"Argument",name:{kind:"Name",value:"asc"},value:{kind:"Variable",name:{kind:"Name",value:"asc"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalEdges"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasMore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fruitVariety"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fruit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"harvest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"HarvestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"harvest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fruitVariety"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fruit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:2434}};n.loc.source={body:"query prices($pag: Int, $num: Int, $ord: String, $asc:Boolean, $filter: PriceFilter)\n{\n    prices(\n        pag: $pag\n        num: $num\n        ord: $ord\n        asc: $asc\n        filter: $filter\n    ) {\n        totalCount\n        totalEdges\n        hasMore\n        pag\n        edges {\n            node {\n                id\n                date\n                price\n                drums\n                volume\n                product{\n                    id\n                    presentation{\n                        id\n                        name\n                    }\n                    fruitVariety{\n                        id\n                        name\n                        fruit{\n                            id\n                            name\n                        }\n                    }\n                }\n                country{\n                    id\n                    name\n                }\n            }\n        }\n    }\n}\n\nquery price($input: PriceInput!)\n{\n    price(\n        input: $input\n    ) {\n        id\n        date\n        price\n        drums\n        volume\n        product{\n            id\n            presentation{\n                id\n                name\n            }\n            fruitVariety{\n                id\n                name\n                fruit{\n                    id\n                    name\n                }\n            }\n        }\n        country{\n            id\n            name\n        }\n    }\n}\n\nquery harvests($pag: Int, $num: Int, $ord: String, $asc:Boolean, $filter: HarvestFilter)\n{\n    harvests(\n        pag: $pag\n        num: $num\n        ord: $ord\n        asc: $asc\n        filter: $filter\n    ) {\n        totalCount\n        totalEdges\n        hasMore\n        pag\n        edges {\n            node {\n                id\n                month\n                country{\n                    id\n                    name\n                }\n                fruitVariety{\n                    id\n                    name\n                    fruit{\n                        id\n                        name\n                    }\n                }\n            }\n        }\n    }\n}\n\nquery harvest($input: HarvestInput!)\n{\n    harvest(\n        input: $input\n    ) {\n        id\n        month\n        country{\n            id\n            name\n        }\n        fruitVariety{\n            id\n            name\n            fruit{\n                id\n                name\n            }\n        }\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var a={};function t(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function r(e,n){var i={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=a[n]||new Set,d=new Set,u=new Set;for(r.forEach((function(e){u.add(e)}));u.size>0;){var s=u;u=new Set,s.forEach((function(e){d.has(e)||(d.add(e),(a[e]||new Set).forEach((function(e){u.add(e)})))}))}return d.forEach((function(n){var a=t(e,n);a&&i.definitions.push(a)})),i}n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),a[e.name.value]=n}})),e.exports=n,e.exports.prices=r(n,"prices"),e.exports.price=r(n,"price"),e.exports.harvests=r(n,"harvests"),e.exports.harvest=r(n,"harvest")},62749:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[productID]/[processID]",function(){return i(47914)}])},47914:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return b}});var a=i(47568),t=i(14924),r=i(26042),d=i(69396),u=i(828),s=i(70655),l=i(85893),o=i(67294),c=i(11163),m=i(66252),v=i(76935),k=i(50743),f=i(16426),p=i(41),g=i(58765),N=i(1771),y=[{key:"presentation",label:"Presentation"},{key:"country",label:"Country"},{key:"drums",label:"Drums"},{key:"volume",label:"Available volume(MT)"},{key:"price",label:"Price (USD/Kg)"}],h={name:"Jasu",id:"2322"},S=[{id:"2019",data:[{x:"2022-01-01",y:"83"}]},{id:"2020",data:[{x:"2022-01-01",y:"83"}]},{id:"2021",data:[{x:"2022-01-01",y:"83"}]},{id:"2022",data:[{x:"2022-01-01",y:"83"},{x:"2022-02-01",y:"70"},{x:"2022-03-01",y:"62"},{x:"2022-04-01",y:"50"},{x:"2022-05-01",y:"44"},{x:"2022-06-01",y:"44"},{x:"2022-07-01",y:"55"},{x:"2022-08-01",y:"72"}]}];function b(){var e=(0,o.useContext)(f._y),n=e.agent,i=e.session,b=e.dictionary,F=e.setLoading,V=(0,o.useState)(!1),w=V[0],D=V[1],_=(0,o.useState)({title:b.productInfo.loading}),x=_[0],Z=_[1],E=(0,o.useState)(new Array(4).fill({})),I=E[0],P=E[1],$=(0,o.useState)({all:{map:[],harvest:[]}}),T=$[0],q=$[1],C=(0,o.useState)({titles:y,data:[]}),A=C[0],O=C[1],j=(0,o.useState)(S),M=j[0],B=j[1],H=(0,o.useState)({}),L=H[0],X=H[1],z=(0,o.useState)({topic:"",message:""}),G=z[0],J=z[1],K=(0,o.useState)(new Array(6).fill({})),Q=K[0],R=K[1],U=(0,o.useState)(null),W=U[0],Y=U[1],ee=(0,o.useState)(""),ne=ee[0],ie=ee[1],ae=(0,c.useRouter)(),te=(0,m.x)(),re=(0,v.Ds)().enqueueSnackbar,de=ae.query,ue=de.productID,se=de.processID,le=!!i,oe=(0,o.useCallback)((0,a.Z)((function(){var e,n;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return e=function(){var e=(0,a.Z)((function(){var e,n,i;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:return[4,te.query({query:g.product,variables:{input:{fruitVariety:ue,presentation:se}},fetchPolicy:"no-cache"})];case 1:if(e=a.sent(),n=e.errors,i=e.data,n&&n.length>0)throw new Error(n[0].message);return[2,i.product]}}))}));return function(){return e.apply(this,arguments)}}(),[4,e()];case 1:return(n=i.sent())?(Z((function(e){return(0,d.Z)((0,r.Z)({},e),{title:"".concat(n.presentation.name," - ").concat(n.fruitVariety.fullName),description:n.description,img:n.picture,files:(null===n||void 0===n?void 0:n.productFiles)?n.productFiles:[]})})),Y(n.id),ie(n.fruitVariety.fruit.id),[2]):[2,re(b.productInfo.productError,{variant:"warning"})]}}))})),[ue,se,n]),ce=function(){var e=(0,a.Z)((function(e){var n,i,r,d;return(0,s.__generator)(this,(function(u){switch(u.label){case 0:return n=function(){var n=(0,a.Z)((function(){var n,i,a;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,te.query({query:g.products,variables:{num:"fruitVariety"==e?7:5,asc:!0,filter:(0,t.Z)({},e,"fruitVariety"==e?ue:se)},fetchPolicy:"no-cache"})];case 1:if(n=r.sent(),i=n.errors,a=n.data,i&&i.length>0)throw new Error(i[0].message);return[2,a.products]}}))}));return function(){return n.apply(this,arguments)}}(),[4,n()];case 1:return(i=u.sent())?("fruitVariety"==e?((r=i.edges.filter((function(e){return!(e.node.presentation.id==se)})).map((function(e){return{id:e.node.presentation.id,img:e.node.presentation.picture,name:e.node.presentation.name,url:"/products/".concat(ue,"/").concat(e.node.presentation.id),description:e.node.presentation.description}}))).length>6&&r.pop(),R(r)):((d=i.edges.filter((function(e){return!(e.node.fruitVariety.id==ue)})).map((function(e){return{id:e.node.fruitVariety.id,img:e.node.fruitVariety.picture||e.node.fruitVariety.fruit.picture,title:e.node.fruitVariety.fullName,url:"/products/".concat(e.node.fruitVariety.id,"/").concat(se)}}))).length>4&&d.pop(),P(d)),[2]):[2,re(b.formatString(b.productInfo.fruitError,"fruitVariety"==e?"frutas":"presentaciones"),{variant:"warning"})]}}))}));return function(n){return e.apply(this,arguments)}}(),me=(0,o.useCallback)((0,a.Z)((function(){var e,n,i,t,r,d,l,o,c;return(0,s.__generator)(this,(function(m){switch(m.label){case 0:return e=function(){var e=(0,a.Z)((function(){var e,n,i;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:return[4,te.query({query:N.harvests,variables:{num:-1,ord:"countryId",asc:!0,filter:{fruit:[ne]}},fetchPolicy:"no-cache"})];case 1:if(e=a.sent(),n=e.errors,i=e.data,n&&n.length>0)throw new Error(n[0].message);return[2,i.harvests]}}))}));return function(){return e.apply(this,arguments)}}(),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],a=[],t=[],r={},d=-1,u=!1,s=!0,l=!1,o=void 0;try{for(var c,m=e[Symbol.iterator]();!(s=(c=m.next()).done);s=!0){var v=c.value;if(!n||v.month!==d){var k=v.country.id;i.includes(k)||(i.push(k),u=!0);var f=v.fruitVariety.name;t.includes(f)||t.push(f),(v.month-1!==d||u)&&(Object.keys(r).length>0&&(r.y.push(new Date(12===d?2023:2022,12===d?0:d,0).getTime()),a.push(r),r={}),r.x=v.country.name,r.y=[new Date(2022,v.month-1,1).getTime()]),d=v.month,u=!1}}}catch(p){l=!0,o=p}finally{try{s||null==m.return||m.return()}finally{if(l)throw o}}return Object.keys(r).length>0&&(r.y.push(new Date(12===d?2023:2022,12===d?1:d,0).getTime()),a.push(r)),!0===n?[i,t,a]:[i,a]},[4,e()];case 1:return(i=m.sent())?(t=i.edges.map((function(e){return e.node})),r=(0,u.Z)(n(t,!0),3),d=r[0],l=r[1],o=r[2],c={all:{harvest:o,map:d}},l.forEach((function(e){var i=(0,u.Z)(n(t.filter((function(n){return n.fruitVariety.name===e}))),2),a=i[0],r=i[1];c[e]={harvest:r,map:a}})),q(c),[2]):[2,re(b.productInfo.harvestError,{variant:"warning"})]}}))})),[ne,n]),ve=(0,o.useCallback)((0,a.Z)((function(){var e,n,i,t,u,l,o,c,m,v,f,p,g,y,h,S;return(0,s.__generator)(this,(function(F){switch(F.label){case 0:return e=function(){var e=(0,a.Z)((function(){var e,n,i;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:return[4,te.query({query:N.prices,variables:{ord:"date",asc:!1,num:-1,filter:{query:ue}},fetchPolicy:"no-cache"})];case 1:if(e=a.sent(),n=e.errors,i=e.data,n&&n.length>0)throw new Error(n[0].message);return[2,i.prices]}}))}));return function(){return e.apply(this,arguments)}}(),[4,e()];case 1:if(!(n=F.sent()))return[2,re(b.productInfo.priceError,{variant:"warning"})];if(i=n.edges.map((function(e){return e.node})),t=[],u=i.filter((function(e){var n=e.product.presentation.id;return!t.includes(n)&&(t.push(n),!0)})).map((function(e){return(0,d.Z)((0,r.Z)({},e),{country:e.country?e.country.name:"",countryCode:e.country?e.country.id:"",presentation:e.product.presentation.name,price:e.price?(0,k.formatMoney)(e.price):null})})),O((function(e){return(0,d.Z)((0,r.Z)({},e),{data:u})})),!le)return[2];l=i.filter((function(e){return e.product.presentation.id===se})).reverse(),o=[],c=[],m=!0,v=!1,f=void 0;try{for(p=l[Symbol.iterator]();!(m=(g=p.next()).done);m=!0)y=g.value,h=y.date.slice(0,4),c.includes(h)||(c.push(h),o.push({id:h,data:[]})),S=c.indexOf(h),o[S].data.push({x:y.date,y:y.price})}catch(V){v=!0,f=V}finally{try{m||null==p.return||p.return()}finally{if(v)throw f}}return B(o),[2]}}))})),[W,le,n]);(0,o.useEffect)((function(){function e(){return(e=(0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([oe(),ce("fruitVariety"),ce("presentation")])];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}F(!0),function(){e.apply(this,arguments)}(),le&&X(h),F(!1)}),[le,ue,se,n]),(0,o.useEffect)((function(){function e(){return(e=(0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,ve()];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}W&&function(){e.apply(this,arguments)}()}),[W,le,n]),(0,o.useEffect)((function(){function e(){return(e=(0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,me()];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}ne&&function(){e.apply(this,arguments)}()}),[n,ne]);var ke=function(e){J((function(n){return(0,d.Z)((0,r.Z)({},n),(0,t.Z)({},e.target.name,e.target.value))}))},fe=function(e){e.preventDefault(),le?D(!0):ae.push("/contact?email=".concat(G.message),"/contact")};return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(p.ZP.Information,{loggedIn:le,productInfo:x,handleOpenDialog:fe}),(0,l.jsx)(p.ZP.OtherProducts,{process:se,relatedProducts:I}),(0,l.jsx)(p.ZP.OtherProcess,{product:ue,relatedProcesses:Q}),(0,l.jsx)(p.ZP.Stastistics,{varietyData:T,pricesTableData:A}),(0,l.jsx)(p.ZP.PriceCharts,{loggedIn:le,priceTendenciesData:M}),(0,l.jsx)(p.ZP.Contact,{form:G,onFormChange:ke,loggedIn:le,contactName:null===L||void 0===L?void 0:L.name,handleOpenDialog:fe}),le&&(0,l.jsx)(p.ZP.ContactDialog,{form:G,onFormChange:ke,open:w,onClose:function(){D(!1)}})]})}}},function(e){e.O(0,[653,212,41,774,888,179],(function(){return n=62749,e(e.s=n);var n}));var n=e.O();_N_E=n}]);