(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[863],{50972:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[productID]",function(){return r(62824)}])},62824:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(47568),a=r(14924),i=r(26042),u=r(70655),s=r(85893),o=r(67294),c=r(11163),l=r(41120),p=r(8920),d=r(63457),f=r(43832),h=r(50253),g=r(66261),N=r(66252),P=r(76935),E=r(3107),T=r(58765),m=r(16426),S=(0,l.Z)((function(e){var t;return{root:(t={maxWidth:"none",minHeight:"20vh"},(0,a.Z)(t,e.breakpoints.up("lg"),{paddingTop:"64px"}),(0,a.Z)(t,"backgroundColor",e.palette.background.main),t),container:{paddingBlock:"32px",maxWidth:e.breakpoints.values.lg,marginInline:"auto"},emptyBox:{paddingBlock:e.spacing(3)}}}));function y(){var e=(0,o.useState)(E.q5.PRESENTATION),t=e[0],r=e[1],a=(0,o.useState)({title:"Fruta / Presentaci\xf3n",picture:"",description:""}),l=a[0],y=a[1],_=(0,o.useState)(new Array(10).fill({})),Z=_[0],q=_[1],b=(0,o.useState)(Z.length),v=b[0],x=b[1],O=(0,o.useState)(0),w=O[0],I=O[1],R=(0,o.useState)(1),A=R[0],k=R[1],C=(0,o.useState)("A-Z"),j=C[0],B=C[1],D=g.OK,F=S(),V=(0,p.Z)(),L=(0,d.Z)(V.breakpoints.up("lg")),M=(0,N.x)(),U=(0,P.Ds)().enqueueSnackbar,W=(0,c.useRouter)().query.productID,X=[12,24,48],G=(0,o.useContext)(m._y),H=G.agent,K=G.dictionary,z=G.setLoading,J=(0,o.useCallback)((0,n.Z)((function(){var e,t,a,i,s;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return e=function(){var e=(0,n.Z)((function(){var e,t,r;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,M.query({query:T.products,variables:{pag:A-1,num:X[w],asc:"A-Z"==j,filter:{query:W}},fetchPolicy:"no-cache"})];case 1:if(e=n.sent(),t=e.errors,r=e.data,t&&t.length>0)throw new Error(t[0].message);return[2,r.products]}}))}));return function(){return e.apply(this,arguments)}}(),[4,e()];case 1:return(t=o.sent())&&0!==t.totalCount?(a=t.edges[0].node.fruitVariety.id==W?E.q5.PRESENTATION:E.q5.PRODUCTS,i=t.edges[0].node[a===E.q5.PRESENTATION?"fruitVariety":"presentation"],y({title:i[a===E.q5.PRESENTATION?"fullName":"name"],picture:a===E.q5.PRESENTATION?i.picture||i.fruit.picture:i.picture,description:a===E.q5.PRESENTATION?i.description||i.fruit.description:i.description}),s=t.edges.map((function(e){var t=e.node[a===E.q5.PRESENTATION?"presentation":"fruitVariety"];return{id:t.id,picture:a===E.q5.PRESENTATION?t.picture:t.picture||t.fruit.picture,name:t[a===E.q5.PRESENTATION?"name":"fullName"],description:a===E.q5.PRESENTATION?t.description:t.description||t.fruit.description}})),r(a),x(t.totalCount),q(s)):(U(K.search.productsError,{variant:"info"}),q([]),x(0)),[2]}}))})),[W,w,A,j,H]);return(0,o.useEffect)((function(){function e(){return(e=(0,n.Z)((function(){var e;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:q(new Array(10).fill({})),z(!0),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,J()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),U(e.toString(),{variant:"error"}),[3,4];case 4:return z(!1),[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[w,A,j,H]),(0,o.useEffect)((function(){L?(I(2),k(1)):(I(0),k(1))}),[L]),(0,s.jsx)(o.Fragment,{children:(0,s.jsx)(f.Z,{className:F.root,children:(0,s.jsxs)(h.Z,{className:F.container,children:[(0,s.jsx)(E.ZP.ProductTitle,(0,i.Z)({},l)),(0,s.jsx)(E.ZP.FiltersBar,{pageType:t,page:A,dataLength:v,labelShow:K.formatString(K.search.showResultsFruits,t===E.q5.PRODUCTS?K.search.fruits:K.search.presentations),itemsPerPage:w,itemsPerPageOptions:X,handleChangeItemsPerPage:function(e,t){I(t)},sort:j,handleChangeSort:function(e){k(1),B(e.target.value)}}),(0,s.jsx)(E.ZP.ResultsGrid,{pageType:t,data:Z,productID:W}),Math.ceil(v/X[w])>1?(0,s.jsx)(E.ZP.PaginationBar,{count:Math.ceil(v/X[w]),page:A,handleChangePageNumber:function(e,t){D.scrollTo("scrollPagination",{duration:1500,delay:0,smooth:!0,offset:-64}),k(t)}}):(0,s.jsx)(h.Z,{className:F.emptyBox})]})})})}}},function(e){e.O(0,[653,720,107,774,888,179],(function(){return t=50972,e(e.s=t);var t}));var t=e.O();_N_E=t}]);